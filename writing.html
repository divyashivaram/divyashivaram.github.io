<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Writing - Divya Shivaram</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'magazine': {
                            'peach-pink': '#E5B4A5',
                            'coral': '#E87A5E',
                            'cream': '#F5F1EB',
                            'warm-brown': '#8E6A5B',
                            'paper-light': '#FBF9F6',
                            'sage': '#A0B4A6'
                        }
                    },
                    fontFamily: {
                        'serif': ['Playfair Display', 'serif'],
                        'sans': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <style>
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMDAgMzAwIj48ZmlsdGVyIGlkPSJuIj48ZmVUdXJidWxlbmNlIHR5cGU9ImZyYWN0YWxOb2lzZSIgYmFzZUZyZXF1ZW5jeT0iMC45IiBudW1PY3RhdmVzPSIzIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI24pIi8+PC9zdmc+');
            opacity: 0.1;
            pointer-events: none;
            z-index: -1;
        }

        .nav-link {
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .name-wrap {
            position: relative;
            display: inline-block;
        }

        .name-icon {
            position: absolute;
            width: 15px;
            height: 15px;
            fill: #8E6A5B;
            opacity: 0;
            pointer-events: none;
        }

        /* Each icon starts hidden at roughly the center of the name text,
           bursts outward to its resting position, floats, then retreats back. */
        .ni-1 { top: -16px; left: 2px;                animation: flyOut1 5.2s ease-in-out infinite; }
        .ni-2 { top: -14px; right: 2px;               animation: flyOut2 5.8s ease-in-out infinite 1.4s; }
        .ni-3 { bottom: -16px; left: calc(50% - 8px); animation: flyOut3 5.0s ease-in-out infinite 2.7s; }

        /* ni-1 is top-left — launches from center-right direction */
        @keyframes flyOut1 {
            0%   { transform: translate(52px, 26px) scale(0.1); opacity: 0; }
            14%  { transform: translate(-4px, -4px)  scale(1.2); opacity: 0.6; }
            24%  { transform: translate(0,    0)     scale(1);   opacity: 0.45; }
            64%  { transform: translate(-2px, -5px)  scale(1);   opacity: 0.45; }
            82%  { transform: translate(32px, 16px)  scale(0.3); opacity: 0.08; }
            100% { transform: translate(52px, 26px) scale(0.1); opacity: 0; }
        }

        /* ni-2 is top-right — launches from center-left direction */
        @keyframes flyOut2 {
            0%   { transform: translate(-52px, 24px) scale(0.1); opacity: 0; }
            14%  { transform: translate(4px,  -4px)  scale(1.2); opacity: 0.6; }
            24%  { transform: translate(0,     0)    scale(1);   opacity: 0.45; }
            64%  { transform: translate(2px,  -4px)  scale(1);   opacity: 0.45; }
            82%  { transform: translate(-32px, 15px) scale(0.3); opacity: 0.08; }
            100% { transform: translate(-52px, 24px) scale(0.1); opacity: 0; }
        }

        /* ni-3 is bottom-center — launches upward from center */
        @keyframes flyOut3 {
            0%   { transform: translate(0, -28px) scale(0.1); opacity: 0; }
            14%  { transform: translate(0,   3px) scale(1.2); opacity: 0.6; }
            24%  { transform: translate(0,   0)   scale(1);   opacity: 0.45; }
            64%  { transform: translate(1px,-3px)  scale(1);   opacity: 0.45; }
            82%  { transform: translate(0, -18px) scale(0.3); opacity: 0.08; }
            100% { transform: translate(0, -28px) scale(0.1); opacity: 0; }
        }

        /* ni-4 is top-center — launches downward from center */
        .ni-4 { top: -24px; left: calc(50% - 8px); animation: flyOut4 5.4s ease-in-out infinite 0.7s; }
        @keyframes flyOut4 {
            0%   { transform: translate(2px, 32px)  scale(0.1); opacity: 0; }
            14%  { transform: translate(0,  -4px)   scale(1.2); opacity: 0.6; }
            24%  { transform: translate(0,   0)     scale(1);   opacity: 0.45; }
            64%  { transform: translate(-2px,-4px)  scale(1);   opacity: 0.45; }
            82%  { transform: translate(1px, 20px)  scale(0.3); opacity: 0.08; }
            100% { transform: translate(2px, 32px)  scale(0.1); opacity: 0; }
        }

        /* ni-5 is bottom-right — launches from center-left */
        .ni-5 { bottom: -16px; right: 6px; animation: flyOut5 6.0s ease-in-out infinite 3.5s; }
        @keyframes flyOut5 {
            0%   { transform: translate(-46px, -20px) scale(0.1); opacity: 0; }
            14%  { transform: translate(4px,    3px)  scale(1.2); opacity: 0.6; }
            24%  { transform: translate(0,      0)    scale(1);   opacity: 0.45; }
            64%  { transform: translate(2px,   -3px)  scale(1);   opacity: 0.45; }
            82%  { transform: translate(-28px, -13px) scale(0.3); opacity: 0.08; }
            100% { transform: translate(-46px, -20px) scale(0.1); opacity: 0; }
        }

        .nav-link:hover {
            color: #E87A5E !important;
            text-decoration: underline;
            text-underline-offset: 4px;
        }

        /* 3-column grid — gap shows peach-pink background as separator */
        .posts-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 3px;
        }

        @media (max-width: 900px) {
            .posts-grid { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 560px) {
            .posts-grid { grid-template-columns: 1fr; }
        }

        /* Card: flex column, tag pinned top, content pushed to bottom */
        .post-block {
            display: flex;
            flex-direction: column;
            min-height: 260px;
            background: rgba(255, 250, 243, 0.57);
            padding: 1.25rem 1.5rem 1.5rem;
            border-radius: 12px;
            text-decoration: none;
            transition: background 0.2s ease;
        }

        .post-block:hover {
            background: rgba(255, 250, 243, 0.8);
        }

        /* Tag row: "Writing · Blog" left, ↗ right */
        .post-block-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .post-tag {
            font-size: 0.8rem;
            font-weight: 400;
            color: #4f3125;
        }

        .post-arrow {
            color: #4f3125;
            opacity: 0.5;
            transition: opacity 0.2s ease;
            flex-shrink: 0;
        }

        .post-block:hover .post-arrow {
            opacity: 1;
        }

        /* Content section pushed to bottom */
        .post-block-content {
            margin-top: auto;
            padding-top: 2rem;
        }

        .post-title {
            font-size: 1.3rem;
            font-weight: 500;
            line-height: 1.3;
            color: #5d4035;
            margin-bottom: 0.4rem;
        }

        .post-date {
            font-size: 0.85rem;
            color: #4f3125;
            margin-bottom: 0.75rem;
        }

        .post-excerpt {
            font-size: 0.95rem;
            color: #543e34;
            line-height: 1.65;
        }

        @keyframes pulse-fade {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 0.8; }
        }

        .loading-shimmer {
            animation: pulse-fade 1.5s ease-in-out infinite;
        }
    </style>
</head>

<body class="bg-magazine-peach-pink font-sans antialiased">

    <!-- Header -->
    <header class="text-center pt-8 pb-4">
        <div class="name-wrap">
            <!-- pencil-simple -->
            <svg class="name-icon ni-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z"/></svg>
            <!-- feather -->
            <svg class="name-icon ni-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M221.28,34.75a64,64,0,0,0-90.49,0L60.69,104A15.9,15.9,0,0,0,56,115.31v73.38L26.34,218.34a8,8,0,0,0,11.32,11.32L67.32,200H140.7A15.92,15.92,0,0,0,152,195.32l0,0,69.23-70A64,64,0,0,0,221.28,34.75ZM142.07,46.06A48,48,0,0,1,211.79,112H155.33l34.35-34.34a8,8,0,0,0-11.32-11.32L120,124.69V67.87ZM72,115.35l32-31.67v57l-32,32ZM140.7,184H83.32l56-56h56.74Z"/></svg>
            <!-- book-open -->
            <svg class="name-icon ni-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M232,48H160a40,40,0,0,0-32,16A40,40,0,0,0,96,48H24a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H96a24,24,0,0,1,24,24,8,8,0,0,0,16,0,24,24,0,0,1,24-24h72a8,8,0,0,0,8-8V56A8,8,0,0,0,232,48ZM96,192H32V64H96a24,24,0,0,1,24,24V200A39.81,39.81,0,0,0,96,192Zm128,0H160a39.81,39.81,0,0,0-24,8V88a24,24,0,0,1,24-24h64Z"/></svg>
            <!-- bird -->
            <svg class="name-icon ni-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M176,68a12,12,0,1,1-12-12A12,12,0,0,1,176,68Zm64,12a8,8,0,0,1-3.56,6.66L216,100.28V120A104.11,104.11,0,0,1,112,224H24a16,16,0,0,1-12.49-26l.1-.12L96,96.63V76.89C96,43.47,122.79,16.16,155.71,16H156a60,60,0,0,1,57.21,41.86l23.23,15.48A8,8,0,0,1,240,80Zm-22.42,0L201.9,69.54a8,8,0,0,1-3.31-4.64A44,44,0,0,0,156,32h-.22C131.64,32.12,112,52.25,112,76.89V99.52a8,8,0,0,1-1.85,5.13L24,208h26.9l70.94-85.12a8,8,0,1,1,12.29,10.24L71.75,208H112a88.1,88.1,0,0,0,88-88V96a8,8,0,0,1,3.56-6.66Z"/></svg>
            <!-- bread -->
            <svg class="name-icon ni-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M240,80a40,40,0,0,0-40-40H48a40,40,0,0,0-16,76.65V200a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V116.65A40.06,40.06,0,0,0,240,80ZM48,120a8,8,0,0,0,0-16,24,24,0,0,1,0-48h96a24,24,0,0,1,0,48,8,8,0,0,0,0,16v80H48Zm152-16a8,8,0,0,0,0,16v80H160V116.65A40,40,0,0,0,176,56h24a24,24,0,0,1,0,48Z"/></svg>
            <a href="index.html"
                class="font-sans text-magazine-warm-brown tracking-widest uppercase text-base font-semibold nav-link">
                Divya Sivaram
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-6 pt-16 pb-24">

        <!-- Page Title -->
        <div class="mb-12">
            <h1 class="font-serif text-6xl md:text-7xl mb-4 leading-tight" style="color: #cc5435;">
                writing.
            </h1>
            <p class="text-lg leading-relaxed" style="color: #6D5650;">
                My thoughts, weekly notes and reflections.
            </p>
        </div>

        <!-- Post Grid — populated by JS -->
        <div id="post-list" class="posts-grid">
            <!-- Loading skeletons -->
            <div class="post-block loading-shimmer">
                <div class="post-block-header">
                    <div class="h-3 bg-magazine-warm-brown rounded w-20" style="opacity: 0.2;"></div>
                </div>
                <div class="post-block-content">
                    <div class="h-5 bg-magazine-warm-brown rounded w-4/5 mb-1" style="opacity: 0.2;"></div>
                    <div class="h-5 bg-magazine-warm-brown rounded w-2/3 mb-3" style="opacity: 0.2;"></div>
                    <div class="h-3 bg-magazine-warm-brown rounded w-24 mb-4" style="opacity: 0.15;"></div>
                    <div class="h-3 bg-magazine-warm-brown rounded w-full mb-1" style="opacity: 0.12;"></div>
                    <div class="h-3 bg-magazine-warm-brown rounded w-5/6" style="opacity: 0.12;"></div>
                </div>
            </div>
            <div class="post-block loading-shimmer" style="animation-delay: 0.15s;">
                <div class="post-block-header">
                    <div class="h-3 bg-magazine-warm-brown rounded w-20" style="opacity: 0.2;"></div>
                </div>
                <div class="post-block-content">
                    <div class="h-5 bg-magazine-warm-brown rounded w-full mb-1" style="opacity: 0.2;"></div>
                    <div class="h-5 bg-magazine-warm-brown rounded w-3/4 mb-3" style="opacity: 0.2;"></div>
                    <div class="h-3 bg-magazine-warm-brown rounded w-24 mb-4" style="opacity: 0.15;"></div>
                    <div class="h-3 bg-magazine-warm-brown rounded w-full mb-1" style="opacity: 0.12;"></div>
                    <div class="h-3 bg-magazine-warm-brown rounded w-4/5" style="opacity: 0.12;"></div>
                </div>
            </div>
            <div class="post-block loading-shimmer" style="animation-delay: 0.3s;">
                <div class="post-block-header">
                    <div class="h-3 bg-magazine-warm-brown rounded w-20" style="opacity: 0.2;"></div>
                </div>
                <div class="post-block-content">
                    <div class="h-5 bg-magazine-warm-brown rounded w-3/5 mb-3" style="opacity: 0.2;"></div>
                    <div class="h-3 bg-magazine-warm-brown rounded w-24 mb-4" style="opacity: 0.15;"></div>
                    <div class="h-3 bg-magazine-warm-brown rounded w-full mb-1" style="opacity: 0.12;"></div>
                    <div class="h-3 bg-magazine-warm-brown rounded w-3/4 mb-1" style="opacity: 0.12;"></div>
                    <div class="h-3 bg-magazine-warm-brown rounded w-5/6" style="opacity: 0.12;"></div>
                </div>
            </div>
        </div>

        <!-- Archive Link -->
        <div class="pt-12">
            <a href="https://divyashivaram.substack.com/" target="_blank" rel="noopener noreferrer"
                class="nav-link text-magazine-warm-brown text-base">
                Full archive on Substack →
            </a>
        </div>

    </main>

    <!-- Footer Navigation -->
    <footer class="text-center py-12">
        <nav class="flex flex-wrap items-center justify-center text-base space-x-3 text-magazine-warm-brown">
            <a href="index.html" class="nav-link">← Home</a>
            <span class="opacity-50">|</span>
            <a href="about.html" class="nav-link">About me</a>
            <span class="opacity-50">|</span>
            <a href="work.html" class="nav-link">Work</a>
            <span class="opacity-50">|</span>
            <a href="digital-garden.html" class="nav-link">Digital Garden</a>
        </nav>
    </footer>

    <script>
        function fixGridLayout(container) {
            const cards = container.querySelectorAll('.post-block');
            const count = cards.length;
            // A lone item in the last row (count % 3 === 1) leaves 2 empty slots — not allowed.
            // Span the last item across 2 columns so only 1 slot is empty.
            if (count % 3 === 1 && count > 1) {
                cards[cards.length - 1].style.gridColumn = 'span 2';
            }
        }

        async function loadSubstackPosts() {
            const container = document.getElementById('post-list');
            const feedUrl = 'https://divyashivaram.substack.com/feed';
            const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(feedUrl)}`;

            function renderCard(link, title, date, excerpt) {
                return `
                    <a href="${link}" target="_blank" rel="noopener noreferrer" class="post-block">
                        <div class="post-block-header">
                            <span class="post-tag">Writing · Blog</span>
                            <svg class="post-arrow" xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 256 256"><path d="M224,104a8,8,0,0,1-16,0V59.32l-82.34,82.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/></svg>
                        </div>
                        <div class="post-block-content">
                            <p class="post-title">${title}</p>
                            <p class="post-date">${date}</p>
                            ${excerpt ? `<p class="post-excerpt">${excerpt}</p>` : ''}
                        </div>
                    </a>
                `;
            }

            try {
                const response = await fetch(apiUrl);
                const data = await response.json();

                if (data.status !== 'ok' || !data.items?.length) {
                    throw new Error('No posts returned');
                }

                container.innerHTML = data.items.map(item => {
                    const date = new Date(item.pubDate);
                    const formattedDate = date.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });

                    const tmp = document.createElement('div');
                    tmp.innerHTML = item.description || '';
                    const rawText = (tmp.textContent || tmp.innerText || '').trim();
                    const excerpt = rawText.length > 180 ? rawText.slice(0, 177) + '…' : rawText;

                    return renderCard(item.link, item.title, formattedDate, excerpt);
                }).join('');
                fixGridLayout(container);

            } catch (err) {
                container.innerHTML = [
                    ['https://divyashivaram.substack.com/p/february-2026-week-notes-2-3-and', 'February 2026 - Week notes 2, 3 and maybe 4?', 'February 25, 2026', 'swaying between light and dark - am i oreo?'],
                    ['https://divyashivaram.substack.com/p/february-2026-week-note-1', 'February 2026 - Week note 1', 'February 9, 2026', 'friends, work, celebration'],
                    ['https://divyashivaram.substack.com/p/january-week-notes-3-and-4', 'January - Week notes 3 & 4', 'January 28, 2026', 'writing block, linkin park, abhinay\'s birthday'],
                ].map(([link, title, date, excerpt]) => renderCard(link, title, date, excerpt)).join('');
                fixGridLayout(container);
            }
        }

        loadSubstackPosts();
    </script>

</body>

</html>
